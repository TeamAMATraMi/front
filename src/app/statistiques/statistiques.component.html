<br/><br/><br/>
<mat-tab-group #tabGroup (selectedTabChange)="tabChanged($event)">

  <mat-tab label="all">
    <mat-grid-list cols="3" rowHeight="5:4">
      <mat-grid-tile>
        <mat-grid-tile-header>Répartition hommes / femmes</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="sexeData"
                  [labels]="sexeLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par âge</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="ageData"
                  [labels]="ageLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par nationalité</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="nationaliteData"
                  [labels]="nationaliteLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par site</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="siteData"
                  [labels]="siteLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par titre de séjour</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="sejourData.get('all')"
                  [labels]="sejourLabels.get('all')"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <!--
      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par niveau de langue</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="niveauLangueData.get('all')"
                  [labels]="niveauLangueLabels.get('all')"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par niveau de scolarisation</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="niveauScolData.get('all')"
                  [labels]="niveauScolLabels.get('all')"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par quartier prioritaire</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="quartierPrioData.get('all')"
                  [labels]="quartierPrioLabels.get('all')"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>
  !-->
    </mat-grid-list>
  </mat-tab>
  <mat-tab *ngFor="let site of sites " label="{{site.ville}}">
    <mat-grid-list cols="3" rowHeight="5:4">
      <mat-grid-tile>
        <mat-grid-tile-header>Répartition hommes / femmes</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="sexeData"
                  [labels]="sexeLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>
      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par âge</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="ageData"
                  [labels]="ageLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par nationalité</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="nationaliteData"
                  [labels]="nationaliteLabels"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <!--
    <mat-grid-tile>
        <mat-grid-tile-header>Répartition par titre de séjour</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="sejourData[site]"
                  [labels]="sejourLabels[site]"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par niveau de langue</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="niveauLangueData[site]"
                  [labels]="niveauLangueLabels[site]"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par niveau de scolarisation</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="niveauScolData[site]"
                  [labels]="niveauScolLabels[site]"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-grid-tile-header>Répartition par quartier prioritaire</mat-grid-tile-header>
        <div style="display: block">
          <canvas baseChart
                  [data]="quartierPrioData[site]"
                  [labels]="quartierPrioLabels[site]"
                  [chartType]="doughnut"
                  [colors]="chartColors"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </mat-grid-tile>!-->
    </mat-grid-list>
  </mat-tab>
</mat-tab-group>


